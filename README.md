Procedimiento para que funcione

Despu√©s de hacer el siguiente comando:

docker compose up -d --build


Ejecutar los siguientes dos comandos ah√≠ mismo en la consola o no va a correr üôÇ

1. docker cp dump.backup netflix_mvp_db:/dump.backup

2. docker exec -it netflix_mvp_db pg_restore -U postgres -d DataBaseNetflix --clean --if-exists --no-owner --no-privileges /dump.backup


Una vez dentro de la aplicaci√≥n, en la parte superior derecha aparece un ‚Äúlog in‚Äù si se entra directamente a /api/.
Si se entra primero a /admin/ pide de una vez que se loguee.
Con esto no es necesario estar colocando el token de acceso cada que se pasa a una secci√≥n diferente: la sesi√≥n queda guardada y se pasa autom√°ticamente a la p√°gina.

ADMINS son los encargados de

0. Admin
Permite realizar todo
http://localhost:8000/admin/
correo: admin123@gmail.com
contrase√±a: adminnice123

0.1 Admin con limitaciones
http://localhost:8000/admin/
correo: andre@gmail.com
contrase√±a: andres123

1. Usuarios

Registro
http://localhost:8000/api/users/register/

Login (JWT)
http://localhost:8000/api/users/login/
‚Üí La respuesta trae access y refresh token nada m√°s.

2. Perfiles

Listar perfiles del usuario
GET http://localhost:8000/api/perfiles/

Crear perfil
POST http://localhost:8000/api/perfiles/

Activar perfil
http://localhost:8000/api/perfiles/<id>/activar/ ‚Äî aparece una caja de texto, no toca colocar nada ah√≠, solo darle a POST.

Verificar perfil activo
http://localhost:8000/api/perfiles/activo/

Desactivar perfil activo
http://localhost:8000/api/perfiles/desactivar/

3. Suscripci√≥n

Ver planes de suscripci√≥n
http://localhost:8000/api/subscriptions/planes/

Crear suscripci√≥n
http://localhost:8000/api/subscriptions/suscribirse/

Ver estado de suscripci√≥n
http://localhost:8000/api/subscriptions/mi/

4. Contenido

Listar pel√≠culas
http://localhost:8000/api/contenido/peliculas/

Detalle de pel√≠cula
GET http://localhost:8000/api/contenido/peliculas/<id>/

5. Streaming

http://localhost:8000/api/streaming/play/<id_pelicula>/ ‚Äî toca tener perfil activo y suscripci√≥n
‚Üí Usa el perfil activo y devuelve URL temporal.

http://localhost:8000/api/streaming/list/<id_pelicula>/

6. Historial

Historial reciente del perfil activo
http://localhost:8000/api/history/recent/ ‚Äî ya toma el perfil que est√© activo.
